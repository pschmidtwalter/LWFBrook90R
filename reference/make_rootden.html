<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Generates a root density depth function for soil layers"><title>Generates a root density depth function for soil layers — make_rootden • LWFBrook90R</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generates a root density depth function for soil layers — make_rootden"><meta property="og:description" content="Generates a root density depth function for soil layers"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">LWFBrook90R</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/LWFBook90R-1-Intro.html">Introduction to LWFBrook90R</a>
    <a class="dropdown-item" href="../articles/LWFBrook90R-2-Options_Param.html">Model control options and parameters</a>
    <a class="dropdown-item" href="../articles/LWFBrook90R-3-Multiruns.html">Multi-run simulations in LWFBrook90R</a>
    <a class="dropdown-item" href="../articles/LWFBrook90R-4-Multisite-Runs.html">Multi-Site simulations using `run_multisite_LWFB90()`</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pschmidtwalter/LWFBrook90R/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generates a root density depth function for soil layers</h1>
      <small class="dont-index">Source: <a href="https://github.com/pschmidtwalter/LWFBrook90R/blob/HEAD/R/MakeRoots.R" class="external-link"><code>R/MakeRoots.R</code></a></small>
      <div class="d-none name"><code>make_rootden.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates a root density depth function for soil layers</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">make_rootden</span><span class="op">(</span>
  <span class="va">soilnodes</span>,
  maxrootdepth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">soilnodes</span><span class="op">)</span>,
  method <span class="op">=</span> <span class="st">"betamodel"</span>,
  beta <span class="op">=</span> <span class="fl">0.97</span>,
  rootdat <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>soilnodes</dt>
<dd><p>Vector of soil layer depth limits (including the top and the
bottom of the profile) for which the relative root distribution will be
calculated (m, negative downwards).</p></dd>
<dt>maxrootdepth</dt>
<dd><p>The maximum rooting depth (m, negative downwards) below
which relative root length density will be set to zero (not applying when
<code>method = 'table'</code>).</p></dd>
<dt>method</dt>
<dd><p>Method name for the root depth distribution. Possible values
are 'betamodel', 'table', 'linear', 'constant'. See details.</p></dd>
<dt>beta</dt>
<dd><p>Parameter of the root distribution function.</p></dd>
<dt>rootdat</dt>
<dd><p>data.frame with a given root depth density distribution.
Columns are depth limits ('upper' and 'lower' in m, negative downwards) and
relative root densities of fine or absorbing roots ('rootden') per unit
stonefree volume. Only used when <code>method = 'table'</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Vector of relative root length densities for the soil layers framed
  by <code>soilnodes</code>. Length is one less than <code>length(soilnodes)</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>method = 'betamodel'</code> calculates the relative root length
  densities of the soil layers from the cumulative proportion of roots
  derived by the model after Gale &amp; Grigal (1987). <code>method = 'table'</code>
  distributes the relative root densities provided by <code>rootdat</code> to the
  soil layers, under preservation of total root mass. <code>method =
  'linear'</code> returns linearly decreasing root densities with a value of 1 at
  the top of the soil profile to 0 at <code>maxrootdepth</code>. <code>method =
  'constant'</code> returns a uniform root distribution with a relative root length
  density of 1 for all soil layers above <code>'maxrootdepth'</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Gale, M.R. &amp; Grigal D.F. (1987): "Vertical root distributions of northern tree
species in relation to successional status."
<em>Canadian Journal of Forest Research</em>, <em>17:829-834</em></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">depths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">slb1_soil</span><span class="op">$</span><span class="va">upper</span><span class="op">)</span>, <span class="va">slb1_soil</span><span class="op">$</span><span class="va">lower</span><span class="op">)</span></span>
<span class="r-in"><span class="va">roots_beta</span> <span class="op">&lt;-</span> <span class="fu">make_rootden</span><span class="op">(</span>soilnodes <span class="op">=</span> <span class="va">depths</span>,</span>
<span class="r-in">                              maxrootdepth <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,<span class="fl">4</span>,</span>
<span class="r-in">                              beta <span class="op">=</span> <span class="fl">0.97</span>,</span>
<span class="r-in">                              method <span class="op">=</span> <span class="st">"betamodel"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">rootden_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span class="r-in">  upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03</span>,<span class="fl">0</span>,<span class="op">-</span><span class="fl">0.02</span>, <span class="op">-</span><span class="fl">0.15</span>, <span class="op">-</span><span class="fl">0.35</span>, <span class="op">-</span><span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.65</span>,<span class="op">-</span><span class="fl">0.9</span>,<span class="op">-</span><span class="fl">1.1</span>,<span class="op">-</span><span class="fl">1.3</span><span class="op">)</span>,</span>
<span class="r-in">  lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="op">-</span><span class="fl">0.02</span>, <span class="op">-</span><span class="fl">0.15</span>, <span class="op">-</span><span class="fl">0.35</span>, <span class="op">-</span><span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.65</span>,<span class="op">-</span><span class="fl">0.9</span>,<span class="op">-</span><span class="fl">1.1</span>,<span class="op">-</span><span class="fl">1.3</span>,<span class="op">-</span><span class="fl">1.6</span><span class="op">)</span>,</span>
<span class="r-in">  rootden <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">15</span>, <span class="fl">35</span>, <span class="fl">15</span>, <span class="fl">7.5</span>, <span class="fl">4</span>, <span class="fl">12</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">roots_table</span> <span class="op">&lt;-</span> <span class="fu">make_rootden</span><span class="op">(</span>soilnodes <span class="op">=</span> <span class="va">depths</span>,</span>
<span class="r-in">                               method <span class="op">=</span> <span class="st">"table"</span>,</span>
<span class="r-in">                               rootdat <span class="op">=</span> <span class="va">rootden_table</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">roots_linear</span> <span class="op">&lt;-</span> <span class="fu">make_rootden</span><span class="op">(</span>soilnodes <span class="op">=</span> <span class="va">depths</span>,</span>
<span class="r-in">                                maxrootdepth <span class="op">=</span> <span class="op">-</span><span class="fl">1.4</span>,</span>
<span class="r-in">                                method <span class="op">=</span> <span class="st">'linear'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">roots_constant</span> <span class="op">&lt;-</span> <span class="fu">make_rootden</span><span class="op">(</span>soilnodes <span class="op">=</span> <span class="va">depths</span>,</span>
<span class="r-in">                                  maxrootdepth <span class="op">=</span> <span class="op">-</span><span class="fl">1.4</span>,</span>
<span class="r-in">                                  method <span class="op">=</span> <span class="st">'const'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">roots_constant</span>, <span class="va">slb1_soil</span><span class="op">$</span><span class="va">lower</span> <span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">slb1_soil</span><span class="op">$</span><span class="va">lower</span><span class="op">)</span>, <span class="op">-</span><span class="fl">0.02</span>,<span class="fl">0.02</span><span class="op">)</span>,</span>
<span class="r-in">     type <span class="op">=</span> <span class="st">'s'</span>, lwd <span class="op">=</span> <span class="fl">1.5</span>,ylab <span class="op">=</span> <span class="st">"soil depth [m]"</span>,xlab <span class="op">=</span> <span class="st">"relative root density"</span>,</span>
<span class="r-in">     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">roots_linear</span>, <span class="va">slb1_soil</span><span class="op">$</span><span class="va">lower</span>,</span>
<span class="r-in">      type <span class="op">=</span> <span class="st">'s'</span>, col <span class="op">=</span> <span class="st">"blue"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">roots_beta</span><span class="op">*</span><span class="fl">10</span>, <span class="va">slb1_soil</span><span class="op">$</span><span class="va">lower</span>, type <span class="op">=</span> <span class="st">'s'</span>, col <span class="op">=</span> <span class="st">"brown"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">roots_table</span><span class="op">/</span><span class="fl">100</span>, <span class="va">slb1_soil</span><span class="op">$</span><span class="va">lower</span>,</span>
<span class="r-in">      type <span class="op">=</span> <span class="st">'s'</span>, col <span class="op">=</span> <span class="st">"green"</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"'betamodel'"</span>,<span class="st">"'table'"</span>,<span class="st">"'linear'"</span>, <span class="st">"'constant'"</span><span class="op">)</span>,seg.len <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span class="r-in">       pch <span class="op">=</span> <span class="cn">NULL</span>, lwd <span class="op">=</span><span class="fl">1.5</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"brown"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>, <span class="st">"red"</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span>
<span class="r-plt img"><img src="make_rootden-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Paul Schmidt-Walter, Volodymyr Trotsiuk, Klaus Hammel, Martin Kennel, Anthony Federer, Bavarian State Institute of Forestry (LWF), Northwest German Forest Research Institute (NW-FVA).</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

